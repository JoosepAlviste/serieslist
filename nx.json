{
  "$schema": "./node_modules/nx/schemas/nx-schema.json",
  "workspaceLayout": {
    "appsDir": "apps"
  },
  "affected": {
    "defaultBase": "master"
  },
  "namedInputs": {
    "default": ["{projectRoot}/**/*"],
    "production": ["default", "!{projectRoot}/**/*.test.{ts,tsx}"]
  },
  "targetDefaults": {
    "build": {
      "cache": true,
      "inputs": ["production", "^production"]
    },
    "build:docker": {
      "cache": true,
      "defaultConfiguration": "docker"
    },
    "tsc": {
      "cache": true
    },
    "lint": {
      "cache": true
    },
    "test": {
      "cache": true,
      "defaultConfiguration": "test"
    },
    "test:watch": {
      "cache": true,
      "defaultConfiguration": "test"
    },
    "test:coverage": {
      "cache": true,
      "defaultConfiguration": "test",
      "outputs": ["{projectRoot}/coverage"]
    },
    "test:e2e": {
      "cache": true,
      "defaultConfiguration": "e2e",
      "outputs": [
        "{projectRoot}/test-results",
        "{projectRoot}/playwright-report"
      ]
    },
    "build:server": {
      "cache": true
    },
    "build:e2e": {
      "defaultConfiguration": "e2e"
    },
    "start:e2e": {
      "defaultConfiguration": "e2e",
      "dependsOn": ["build:e2e"]
    },
    "start": {
      "cache": false
    },
    "start:prod": {
      "cache": false,
      "dependsOn": ["build"]
    },
    "start:tmdb": {
      "defaultConfiguration": "e2e"
    }
  }
}
